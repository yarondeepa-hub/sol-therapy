{
  "permissions": {
    "allow": [
      "Bash(ls:*)",
      "Bash(git clone:*)",
      "Bash(curl:*)",
      "Bash(tmutil listbackups:*)",
      "Bash(# Check Obsidian file recovery plugin ls \"\"/Users/yaronamor/Documents/yaronamor-vault/.obsidian/plugins/file-recovery\"\" ; ls \"\"/Users/yaronamor/Documents/yaronamor-vault/.trash/\"\")",
      "Bash(# Check iCloud backup or other vault backup locations ls \"\"/Users/yaronamor/Library/Mobile Documents/iCloud~md~obsidian/Documents/\"\")",
      "Bash(# Check if there''s a conversation log that has the file contents ls -la \"\"/Users/yaronamor/.claude/projects/-Users-yaronamor-Documents-yaronamor-vault-sol/\"\")",
      "Bash(# Find the previous session that had all the files ls -lt \"\"/Users/yaronamor/.claude/projects/-Users-yaronamor-Documents-yaronamor-vault-sol/\"\"*.jsonl)",
      "Bash(BLOG_SRC=\"$HOME/Downloads\")",
      "Bash(BLOG_DST=\"$HOME/Desktop/sol-deploy-temp/assets/blog\")",
      "Bash(sips -s format jpeg:*)",
      "Bash(sips:*)",
      "Bash(git add:*)",
      "Bash(git hash-object:*)",
      "Bash(git ls-tree:*)",
      "Bash(for f in collective-hero brain-sync sufi-dhikr hasidic-niggun taize heartbeats sound-field)",
      "Bash(do echo -n \"$f.jpg: repo=\")",
      "Bash(done)",
      "Bash(# Extract file paths and contents from the most recent large session log # The 5d353946 session from today \\(42MB\\) should have all file reads grep -o ''\"\"file_path\"\":\"\"[^\"\"]*\"\"'' \"\"/Users/yaronamor/.claude/projects/-Users-yaronamor-Documents-yaronamor-vault-sol/5d353946-e463-4e88-a938-fbce3cef32bd.jsonl\"\")",
      "Bash(rsync:*)",
      "Bash(find:*)",
      "Bash(test:*)",
      "Bash(du -sh:*)",
      "Bash(# Search ALL session logs for missing agent files\npython3 << 'PYEOF'\nimport json, os, re, glob\n\nSOL_DIR = \"/Users/yaronamor/Documents/yaronamor-vault/sol\"\nLOG_DIR = \"/Users/yaronamor/.claude/projects/-Users-yaronamor-Documents-yaronamor-vault-sol\"\n\n# Get all session logs\nall_logs = sorted\\(glob.glob\\(os.path.join\\(LOG_DIR, \"*.jsonl\"\\)\\), key=os.path.getmtime, reverse=True\\)\n\ntargets = [\n    'A-agents/copywriter-agent.md',\n    'A-agents/researcher-agent.md', \n    'A-agents/cto-agent.md',\n    'A-agents/producer-agent.md',\n    'A-agents/board-agent.md',\n    'B-brain/references/writing-samples/sample-01.md',\n    'B-brain/references/writing-samples/sample-02.md',\n    'B-brain/references/writing-samples/sample-03.md',\n]\n\ndef strip_line_numbers\\(text\\):\n    lines = text.split\\('\\\\n'\\)\n    cleaned = []\n    for line in lines:\n        m = re.match\\(r'^\\\\s*\\\\d+[\\\\tâ†’]\\(.*\\), line\\)\n        if m:\n            cleaned.append\\(m.group\\(1\\)\\)\n        else:\n            cleaned.append\\(line\\)\n    return '\\\\n'.join\\(cleaned\\)\n\nfound = {}\n\nfor log_path in all_logs:\n    log_name = os.path.basename\\(log_path\\)\n    if all\\(t in found for t in targets\\):\n        break\n    \n    with open\\(log_path, 'r', errors='replace'\\) as f:\n        pending_reads = {}\n        for line in f:\n            try:\n                obj = json.loads\\(line\\)\n            except:\n                continue\n            msg = obj.get\\('message', {}\\)\n            content = msg.get\\('content', []\\)\n            if isinstance\\(content, list\\):\n                for item in content:\n                    if not isinstance\\(item, dict\\):\n                        continue\n                    if item.get\\('type'\\) == 'tool_use' and item.get\\('name'\\) == 'Read':\n                        tool_id = item.get\\('id', ''\\)\n                        fp = item.get\\('input', {}\\).get\\('file_path', ''\\)\n                        if fp.startswith\\(SOL_DIR\\):\n                            rel = fp[len\\(SOL_DIR\\)+1:]\n                            if rel in targets and rel not in found:\n                                pending_reads[tool_id] = rel\n                    if item.get\\('type'\\) == 'tool_result':\n                        tool_id = item.get\\('tool_use_id', ''\\)\n                        if tool_id in pending_reads:\n                            rel = pending_reads[tool_id]\n                            result = item.get\\('content', ''\\)\n                            if isinstance\\(result, str\\) and len\\(result\\) > 50:\n                                found[rel] = strip_line_numbers\\(result\\)\n                                print\\(f\"Found {rel} in {log_name} \\({len\\(result\\)} chars\\)\"\\)\n\n# Write found files\nfor rel, content in found.items\\(\\):\n    full_path = os.path.join\\(SOL_DIR, rel\\)\n    os.makedirs\\(os.path.dirname\\(full_path\\), exist_ok=True\\)\n    with open\\(full_path, 'w'\\) as f:\n        f.write\\(content\\)\n    print\\(f\"Wrote: {rel}\"\\)\n\nmissing = [t for t in targets if t not in found]\nif missing:\n    print\\(f\"\\\\nStill missing: {missing}\"\\)\nelse:\n    print\\(\"\\\\nAll target files recovered!\"\\)\nPYEOF)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(tmutil latestbackup:*)",
      "Bash(tmutil status:*)",
      "Bash(sort:*)",
      "Bash(ffprobe:*)",
      "Bash(python3:*)",
      "Bash(ffmpeg:*)",
      "Bash(git init:*)",
      "Bash(git rm:*)",
      "Bash(printf:*)",
      "Bash(gdown:*)",
      "Bash(kill:*)",
      "Bash(git pull:*)",
      "Bash(git -C /Users/yaronamor/Documents/yaronamor-vault status)",
      "mcp__gemini__gemini-analyze-document",
      "Bash(textutil:*)",
      "Bash(git -C /Users/yaronamor/Documents/yaronamor-vault rev-parse:*)",
      "Bash(# The image was uploaded in the conversation - let me check the clipboard/recent files find /Users/yaronamor -maxdepth 2 -newer /Users/yaronamor/tmp-deploy/sol-therapy-deploy/assets/events/gallery-wide-bottom.mp4 -name \"\"*.png\"\" -o -name \"\"*.jpg\"\" -o -name \"\"*.jpeg\"\")",
      "Bash(# Let me check if the image from the conversation was saved somewhere accessible # The image was pasted directly in chat - I need to find where Claude Code stores uploaded images find /tmp -name \"\"*.png\"\" -newer /Users/yaronamor/tmp-deploy/sol-therapy-deploy/assets/events/gallery-wide-bottom.mp4)",
      "Bash(# Check recent files in common upload locations find /Users/yaronamor/Desktop /Users/yaronamor/Downloads -maxdepth 1 -name \"\"*.png\"\" -newer ~/tmp-deploy/sol-therapy-deploy/assets/events/gallery-wide-bottom.mp4)",
      "Bash(magick identify:*)",
      "Bash(magick:*)",
      "Bash(lsof:*)",
      "Bash(identify:*)",
      "Bash(md5:*)",
      "Bash(ps:*)",
      "Bash(gh run list:*)",
      "Bash(echo:*)",
      "Bash(chmod:*)",
      "Bash(launchctl load:*)",
      "Bash(launchctl list:*)",
      "Bash(bash -n:*)",
      "Bash(plutil -lint:*)",
      "Bash(git -C /Users/yaronamor/Documents/yaronamor-vault log --oneline -5)",
      "WebFetch(domain:aroke01.com)",
      "WebFetch(domain:www.itsnicethat.com)",
      "WebFetch(domain:www.wix.com)",
      "WebFetch(domain:www.forwardcreatives.com)",
      "WebFetch(domain:demofestival.com)",
      "Bash(/opt/homebrew/bin/ffmpeg:*)",
      "mcp__replicate__get_models",
      "mcp__replicate__search_models",
      "Bash(osascript:*)",
      "mcp__replicate__create_models_predictions",
      "Bash(npx:*)",
      "mcp__replicate__get_predictions",
      "Bash(npm init:*)",
      "Bash(npm install:*)",
      "Bash(node capture-frames.mjs:*)",
      "Bash(/opt/homebrew/bin/ffprobe:*)",
      "Bash(# Let''s check what the captured frame looks like - get dimensions and basic info /opt/homebrew/bin/ffprobe -v quiet -show_streams /Users/yaronamor/tmp-deploy/sol-therapy-deploy/frames-tmp/frame_0000.png)",
      "Bash(node capture-text-layer.mjs:*)",
      "Bash(# Install freetype for magick, or find alternative # Check if magick can use any system fonts magick -list font)",
      "Bash(gh api:*)",
      "Bash(git checkout:*)",
      "Bash(node -e:*)",
      "Bash(brew list:*)",
      "Bash(convert:*)",
      "Bash(# Check if ImageMagick has freetype delegate magick identify -list configure)",
      "Bash(# Check if After Effects is installed but in non-standard location mdfind \"\"kMDItemFSName == ''After Effects*''\"\" -onlyin /Applications)",
      "Bash(# Check if ffmpeg can be rebuilt with freetype brew info ffmpeg)",
      "Bash(fc-list:*)",
      "Bash(# Check if we can find Hadassah anywhere on disk find /Users/yaronamor -iname \"\"*hadassah*\"\" -o -iname \"\"*friedlaender*\"\")",
      "Bash(# Check if After Effects was ever installed or if it needs to be downloaded # Also check Media Encoder mdfind \"\"kMDItemKind == ''Application''\"\")",
      "Bash(system_profiler:*)",
      "Bash(open:*)",
      "Bash(brew install:*)",
      "Bash(for f in *.docx)",
      "Bash(do echo \"=== $f ===\")",
      "Bash(pandoc:*)",
      "Bash(do echo \"===== $f =====\")",
      "Bash(do echo \"========== $f ==========\")",
      "mcp__filesystem__read_text_file",
      "Bash(unzip:*)",
      "Bash(xmllint:*)",
      "Bash(pip3 install:*)",
      "mcp__filesystem__read_media_file",
      "WebFetch(domain:yarondeepa-hub.github.io)",
      "Bash(bash /Users/yaronamor/Documents/yaronamor-vault/sol/O-output/website-sol-therapy/deploy.sh)",
      "mcp__Claude_Preview__preview_start",
      "Bash(for dir in A-agents B-brain C-core M-memory O-output T-tools)",
      "Bash(do)",
      "Bash(if [ -d \"/Users/yaronamor/Documents/yaronamor-vault/sol/$dir\" ])",
      "Bash(then)",
      "Bash(else)",
      "Bash(fi)",
      "Bash(xattr:*)",
      "Bash(launchctl unload:*)",
      "Bash(/tmp/sol-therapy-clean/.gitignore:*)",
      "Bash(xxd:*)",
      "Bash(git -C /Users/yaronamor/Documents/yaronamor-vault/sol show 4de4535:T-tools/scripts/daily-review.sh)",
      "Bash(/bin/bash)",
      "Bash(git -C /Users/yaronamor/Documents/yaronamor-vault/sol add -A)",
      "Bash(git -C /Users/yaronamor/Documents/yaronamor-vault/sol commit:*)",
      "WebFetch(domain:news.mit.edu)",
      "WebFetch(domain:nouvelles.umontreal.ca)",
      "WebFetch(domain:civitai.com)",
      "WebFetch(domain:blog.google)",
      "WebFetch(domain:bydira.medium.com)",
      "WebFetch(domain:arxiv.org)",
      "WebFetch(domain:www.atlabs.ai)",
      "WebFetch(domain:chasejarvis.com)",
      "WebFetch(domain:www.smithsonianmag.com)",
      "WebFetch(domain:www.heritageasianart.org)",
      "WebFetch(domain:seas.harvard.edu)",
      "mcp__filesystem__list_allowed_directories",
      "mcp__filesystem__search_files",
      "Bash(git stash:*)",
      "Bash(git stash pop:*)",
      "Bash(git clean:*)",
      "Bash(git reset:*)",
      "Bash(git -C /Users/yaronamor/Documents/yaronamor-vault/sol add:*)",
      "Bash(git -C /Users/yaronamor/Documents/yaronamor-vault/sol rev-parse:*)",
      "Bash(git -C /Users/yaronamor/Documents/yaronamor-vault/sol log --oneline -3)",
      "Bash(git -C /Users/yaronamor/Documents/yaronamor-vault/sol status:*)",
      "Bash(git -C /Users/yaronamor/Documents/yaronamor-vault/sol diff O-output/blog-02-collective-sync/blog-text-v3.md)",
      "Bash(git -C /Users/yaronamor/Documents/yaronamor-vault/sol diff HEAD~1 -- O-output/blog-02-collective-sync/blog-text-v3.md)",
      "Bash(git -C /Users/yaronamor/Documents/yaronamor-vault/sol log --oneline -- O-output/blog-02-collective-sync/blog-text-v3.md)",
      "Bash(git -C /Users/yaronamor/Documents/yaronamor-vault/sol log --oneline -- O-output/03-blog-science-buddhism/final-blog-post.md)",
      "Bash(git remote add:*)",
      "Bash(bash deploy.sh:*)",
      "Bash(sysctl:*)",
      "Bash(xargs:*)",
      "Bash(__NEW_LINE_b5a26aa941b3fc19__ echo \"\")",
      "Bash(pgrep:*)",
      "Bash(__NEW_LINE_374e31cc0b8a9925__ echo \"\")",
      "Bash(# Check total RSS memory of all Claude + MCP processes echo \"\"=== Memory per process group ===\"\" echo \"\"Current session \\(2891\\):\"\" ps -p 2891 -o rss=)",
      "Bash(# Check how many MCP servers were configured before vs now # Count unique MCP types in current config echo \"\"=== MCP servers configured per session ===\"\" echo \"\"Each session spawns: Canva, Figma, Gemini, OpenAI, Replicate = 5 servers\"\" echo \"\"\"\" echo \"\"=== Check: was Daily Review running during this time? ===\"\" ls -la ~/Library/LaunchAgents/com.sol.daily-review.plist launchctl list)",
      "Bash(# The real question: what changed 2 days ago? # Check when MCP servers were added to project config echo \"\"=== .claude/settings.local.json timestamps ===\"\" ls -la /Users/yaronamor/Documents/yaronamor-vault/sol/.claude/ echo \"\"\"\" echo \"\"=== Claude Code version ===\"\" ls -la \"\"/Users/yaronamor/Library/Application Support/Claude/claude-code/\"\")",
      "Bash(# Kill the two zombie Claude Code sessions and their children # Current session is PID 2891 - DO NOT TOUCH echo \"\"=== Killing zombie session PID 97248 \\(1:31PM\\) and its MCP children ===\"\" pgrep -P 97248)",
      "Bash(# Some processes survived - force kill the remaining zombies echo \"\"=== Force killing remaining zombies ===\"\" kill -9 77042 77102 77040 echo \"\"Done\"\" sleep 1 echo \"\"\"\" echo \"\"=== Final verification ===\"\" ps aux)",
      "Bash(# Find where MCP servers are configured echo \"\"=== User-level Claude settings ===\"\" ls -la ~/.claude/settings*.json echo \"\"\"\" echo \"\"=== Project-level settings ===\"\" ls -la /Users/yaronamor/Documents/yaronamor-vault/sol/.claude/settings*.json echo \"\"\"\" echo \"\"=== Check for MCP config files ===\"\" find ~/.claude -name \"\"*.json\"\" -maxdepth 2)",
      "Bash(# The MCPs are spawned by Claude Code connectors \\(marketplace extensions\\) # Let me check what''s installed echo \"\"=== Claude Code connectors/plugins ===\"\" ls -la ~/.claude/plugins/ echo \"\"\"\" echo \"\"=== Marketplace plugins ===\"\" ls ~/.claude/plugins/marketplaces/ echo \"\"\"\" echo \"\"=== Check settings for mcpServers ===\"\" # Look in the project settings for MCP config grep -r \"\"openai\\\\|mcp-server-openai\"\" ~/.claude/ --include=\"\"*.json\"\" -l)",
      "WebFetch(domain:claude.com)",
      "Bash(claude plugins:*)",
      "Bash(claude plugin:*)",
      "Bash(dig:*)",
      "Bash(openssl s_client:*)",
      "Bash(/tmp/fonttools-env/bin/pip install:*)",
      "mcp__gemini__gemini-analyze-url",
      "Bash(__NEW_LINE_24e240c1360b65f5__ echo \"\")",
      "Bash(__NEW_LINE_354a53ec5d3690f2__ echo \"\")",
      "Bash(__NEW_LINE_88a2bd417553b973__ echo \"\")",
      "Bash(__NEW_LINE_bbc0851ff7e5d387__ echo \"\")",
      "mcp__gemini__gemini-analyze-image",
      "WebFetch(domain:pagespeed.web.dev)",
      "Bash(cwebp:*)",
      "Bash(gh repo clone:*)",
      "Bash(gh auth:*)",
      "Bash(for f in blog-science-buddhism.html blog-collective-sync.html blog-sound-meditation.html)",
      "Bash(do python3 -c \":*)"
    ]
  },
  "hooks": {
    "SessionStart": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "bash /Users/yaronamor/Documents/yaronamor-vault/sol/T-tools/scripts/session-cleanup.sh 120",
            "timeout": 15
          }
        ]
      }
    ]
  }
}
